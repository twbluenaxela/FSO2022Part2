# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

# example .gitpod.yml from https://github.com/gitpod-io/demo-multi-repo-frontend
additionalRepositories:
  - url: https://github.com/twbluenaxela/FSO2022Part3
    # checkoutLocation is relative to /workspaces
    checkoutLocation: backend

image: 
  file: .gitpod.Dockerfile

tasks:
  - init: |
      touch /tmp/.npm-lock
      npm install
      rm /tmp/.npm-lock
    command: npm run dev

  - name: backend
    before: |
      cd ../backend
    init: |
      npm install
    command: |
      npm run dev

  - name: frontend
    before: |
      cd notes
    init: |
      npm install
    command: | 
      npm run start
  - init: sleep 1 && while [ -f /tmp/.npm-lock ]; do sleep 1; done
    command: npm run cypress:open



